{"version":3,"sources":["dictionary/json-iterator.ts","dictionary/add-data.ts","dictionary/index.ts","state/index.ts","ui/components/Results.tsx","ui/icon.svg","ui/components/SearchBar.tsx","ui/App.tsx","reportWebVitals.ts","serviceWorkerRegistration.ts","index.tsx"],"names":["jsonIterator","url","a","decoder","TextDecoder","fetch","body","getReader","reader","open","inString","remaining","read","value","done","chunk","decode","lastBase","result","i","length","s","substring","push","JSON","parse","console","log","getMediaUrl","filePath","path","join","addKanjiToDB","db","kanjiGroup","tx","transaction","Promise","all","map","kanji","store","put","addPhrasesToDB","phraseGroup","phrase","objectStore","sequenceNumber","values","reading","concat","initDB","openDB","upgrade","_","version","allKanji","createObjectStore","keyPath","allPhrases","queryStore","createIndex","multiEntry","catch","error","addData","count","alert","query","loadingResults","results","request","dbPromise","makeAutoObservable","this","updateFactory","Function","fetchResults","runInAction","requestID","fetchSequenceNumbers","sequenceNumbers","Array","from","number","get","entry","allSequenceNumbers","Set","index","getAll","IDBKeyRange","bound","then","forEach","add","ResultListItem","sense","className","sort","b","priority","form","flatMap","meaning","glossary","ResultList","observer","SearchBar","inputRef","useRef","useEffect","current","focus","handleChange","useCallback","e","setQuery","target","src","icon","alt","ref","type","onChange","placeholder","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.7bfeeef7.chunk.js","sourcesContent":["/**\n * Fetches a json file and iterates over all of the base objects.\n *\n * This parser is opinionated and makes assumptions about the data. Make sure\n * you understand how it works before you go ahead and copy/paste it into your\n * own project.\n *\n * @param url The url of the external json file\n */\nexport default async function* jsonIterator<T = any>(url: string) {\n  const decoder = new TextDecoder('utf-8')\n\n  const reader = (await fetch(url)).body?.getReader()\n  if (!reader) {\n    return\n  }\n\n  // Counts the number of un-closed, open braces.\n  let open = 0\n\n  // A flag that reveals whether we are currently within a string.\n  let inString = false\n\n  // The start of a yet unclosed JSON object.\n  let remaining = ''\n\n  while (true) {\n    const { value, done } = await reader.read()\n    if (done) {\n      break\n    }\n    const chunk = value ? decoder.decode(value) : ''\n    let lastBase = -1\n    const result: T[] = []\n\n    for (let i = 0; i < chunk.length; i++) {\n      if (inString) {\n        if (chunk[i] === '\"') {\n          inString = false\n        } else if (chunk[i] === '\\\\') {\n          i += 1\n        }\n      } else if (chunk[i] === '\"') {\n        inString = true\n      } else if (chunk[i] === '{') {\n        if (open === 0) {\n          lastBase = i\n        }\n        open += 1\n      } else if (chunk[i] === '}') {\n        open -= 1\n        if (open === 0) {\n          if (lastBase < 0) {\n            const s = remaining + chunk.substring(0, i + 1)\n            try {\n              result.push(JSON.parse(remaining + chunk.substring(0, i + 1)))\n            } catch (e) {\n              console.log(s)\n              return\n            }\n          } else {\n            const s = chunk.substring(lastBase, i + 1)\n            try {\n              result.push(JSON.parse(chunk.substring(lastBase, i + 1)))\n            } catch (e) {\n              console.log(s)\n              return\n            }\n          }\n        }\n      }\n    }\n\n    yield result\n\n    if (open > 0) {\n      if (lastBase < 0) {\n        remaining += chunk\n      } else {\n        remaining = chunk.substring(lastBase)\n      }\n    }\n  }\n}\n","import { IDBPDatabase } from 'idb'\nimport { JMEntry } from '../types/JMEntry'\nimport { KanjiCharacter } from '../types/Kanji'\nimport jsonIterator from './json-iterator'\nimport path from 'path'\n\n/**\n * Calculates a url for github's media service.\n *\n * The url will have the form:\n *\n * > https://media.githubusercontent.com/media/_Username_/_Project_/_Branch_/_Path_to_file_\n */\nconst getMediaUrl = (filePath: string) => {\n  const baseUrl = 'https://media.githubusercontent.com/media/'\n  const userName = 'chrismilson'\n  const project = 'kamatama'\n  const branch = 'master'\n\n  return baseUrl + path.join(userName, project, branch, filePath)\n}\n\nexport const addKanjiToDB = async (db: IDBPDatabase) => {\n  for await (const kanjiGroup of jsonIterator<KanjiCharacter>(\n    process.env.NODE_ENV === 'development'\n      ? path.join(process.env.PUBLIC_URL, 'dict/kanjidic2.json')\n      : getMediaUrl('dictionary/json/kanjidic2.json')\n  )) {\n    const tx = db.transaction('allKanji', 'readwrite')\n\n    await Promise.all(kanjiGroup.map((kanji) => tx.store.put(kanji)))\n\n    await tx.done\n  }\n}\n\nexport const addPhrasesToDB = async (db: IDBPDatabase) => {\n  for await (const phraseGroup of jsonIterator<JMEntry>(\n    process.env.NODE_ENV === 'development'\n      ? path.join(process.env.PUBLIC_URL, 'dict/JMdict.json')\n      : getMediaUrl('dictionary/json/JMdict.json')\n  )) {\n    const tx = db.transaction(['allPhrases', 'queryStore'], 'readwrite')\n\n    await Promise.all([\n      phraseGroup.map((phrase) => {\n        return Promise.all([\n          tx.objectStore('allPhrases').put(phrase),\n          tx.objectStore('queryStore').put({\n            sequenceNumber: phrase.sequenceNumber,\n            values: phrase.reading\n              .map((reading) => reading.value)\n              .concat(phrase.kanji.map((kanji) => kanji.value))\n          })\n        ])\n      })\n    ])\n\n    await tx.done\n  }\n}\n\nexport const addAllDataToDB = async (db: IDBPDatabase) => {\n  return Promise.all([addKanjiToDB(db), addPhrasesToDB(db)])\n}\n\nexport default addAllDataToDB\n","import { openDB } from 'idb'\nimport { addKanjiToDB, addPhrasesToDB } from './add-data'\n\nconst initDB = async () => {\n  const db = await openDB('kamatama', 1, {\n    upgrade: async (db, _, version) => {\n      console.log(`Upgrading database to version ${version}.`)\n\n      const allKanji = db.createObjectStore('allKanji', { keyPath: 'literal' })\n\n      const allPhrases = db.createObjectStore('allPhrases', {\n        keyPath: 'sequenceNumber'\n      })\n\n      const queryStore = db.createObjectStore('queryStore', {\n        keyPath: 'sequenceNumber'\n      })\n\n      queryStore.createIndex('queryStore', 'values', {\n        multiEntry: true\n      })\n\n      await Promise.all(\n        [allKanji, allPhrases, queryStore].map(\n          ({ transaction }) => transaction.done\n        )\n      ).catch(console.error)\n\n      console.log(`Database upgraded to version ${version}`)\n    }\n  })\n\n  const addData = []\n  if ((await db.count('allKanji')) < 13108) {\n    addData.push(addKanjiToDB(db))\n  }\n  if ((await db.count('allPhrases')) < 190269) {\n    addData.push(addPhrasesToDB(db))\n  }\n  await Promise.all(addData)\n\n  if (addData.length > 0) {\n    alert('loaded data')\n  }\n\n  return db\n}\n\nexport default initDB\n","import { IDBPDatabase } from 'idb'\nimport { makeAutoObservable, runInAction } from 'mobx'\nimport initDB from '../dictionary'\nimport { JMEntry } from '../types/JMEntry'\n\n/**\n * Represents a store of the app's state.\n */\nexport class KamatamaJishoStore {\n  /** The current search query. */\n  query: string\n  loadingResults: boolean\n  results: JMEntry[]\n  request: number\n  dbPromise: Promise<IDBPDatabase>\n\n  constructor() {\n    makeAutoObservable(this)\n\n    this.query = ''\n    this.loadingResults = false\n    this.results = []\n    this.request = 0\n    this.dbPromise = initDB()\n\n    if (process.env.NODE_ENV === 'development') {\n      this.setQuery('あ')\n    }\n  }\n\n  setQuery(updateFactory: string | ((priorQuery: string) => string)) {\n    if (updateFactory instanceof Function) {\n      this.query = updateFactory(this.query)\n    } else {\n      this.query = updateFactory\n    }\n    this.fetchResults()\n  }\n\n  private async fetchResults() {\n    if (this.query === '') {\n      runInAction(() => {\n        this.results = []\n      })\n      return\n    }\n\n    const requestID = ++this.request\n\n    const sequenceNumbers = await this.fetchSequenceNumbers()\n\n    const db = await this.dbPromise\n    const tx = db.transaction('allPhrases')\n\n    const results: JMEntry[] = []\n\n    await Promise.all(\n      Array.from(sequenceNumbers).map(async (number) => {\n        const entry = await tx.store.get(number)\n\n        results.push(entry)\n      })\n    )\n\n    if (requestID === this.request)\n      runInAction(() => {\n        this.results = results\n      })\n  }\n\n  private async fetchSequenceNumbers() {\n    const db = await this.dbPromise\n\n    const tx = db.transaction('queryStore')\n    const allSequenceNumbers = new Set<number>()\n\n    await tx.store\n      .index('queryStore')\n      .getAll(IDBKeyRange.bound(this.query, this.query + '\\uffff'), 50)\n      .then((results) => {\n        results.forEach((reading) => {\n          allSequenceNumbers.add(reading.sequenceNumber)\n        })\n      })\n\n    await tx.done\n\n    return allSequenceNumbers\n  }\n}\n\nconst store = new KamatamaJishoStore()\nexport default store\n","import { observer } from 'mobx-react-lite'\nimport { FC } from 'react'\nimport store from '../../state'\nimport { JMEntry } from '../../types/JMEntry'\nimport './Results.scss'\n\nconst ResultListItem: FC<JMEntry> = ({ reading, kanji, sense }) => {\n  return (\n    <li className=\"ResultListItem\">\n      <div className=\"forms\">\n        {[...kanji, ...reading]\n          .sort((a, b) => a.priority.length - b.priority.length)\n          .map((form) => form.value)\n          .join('、')}\n      </div>\n      <div className=\"meanings\">\n        {sense\n          .flatMap((meaning) => meaning.glossary)\n          .map((glossary) => glossary.value)\n          .join(', ')}\n      </div>\n    </li>\n  )\n}\n\n/**\n * A list of the results for the current query.\n */\nconst ResultList: FC<{\n  results: JMEntry[]\n}> = observer(() => {\n  const { results } = store\n\n  return (\n    <ul className=\"ResultList\">\n      {results.map((result) => (\n        <ResultListItem key={result.sequenceNumber} {...result} />\n      ))}\n    </ul>\n  )\n})\n\nexport default ResultList\n","export default __webpack_public_path__ + \"static/media/icon.1efb8337.svg\";","import { ChangeEvent, FC, useCallback, useEffect, useRef } from 'react'\nimport { observer } from 'mobx-react-lite'\nimport store from '../../state'\nimport icon from '../icon.svg'\nimport './SearchBar.scss'\n\nconst SearchBar: FC = observer(() => {\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  useEffect(() => {\n    inputRef.current?.focus()\n  }, [])\n\n  const handleChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    store.setQuery(e.target.value)\n  }, [])\n\n  return (\n    <div className=\"SearchBar\">\n      <img className=\"icon\" src={icon} alt=\"icon to open menu\" />\n      <input\n        ref={inputRef}\n        type=\"text\"\n        value={store.query}\n        onChange={handleChange}\n        placeholder=\"Search here...\"\n      />\n      <button className=\"Radicals\">字</button>\n    </div>\n  )\n})\n\nexport default SearchBar\n","import { FC } from 'react'\nimport ResultList from './components/Results'\nimport store from '../state'\nimport './App.css'\nimport { observer } from 'mobx-react-lite'\nimport SearchBar from './components/SearchBar'\n\nconst App: FC = observer(() => {\n  return (\n    <div className=\"App\">\n      <SearchBar />\n      <ResultList results={store.results} />\n    </div>\n  )\n})\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import { StrictMode } from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './ui/App'\nimport reportWebVitals from './reportWebVitals'\nimport * as serviceWorker from './serviceWorkerRegistration'\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n)\n\nserviceWorker.register()\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}