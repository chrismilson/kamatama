(this["webpackJsonpkamatama-jisho"]=this["webpackJsonpkamatama-jisho"]||[]).push([[0],{29:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t(1),i=t(16),c=t.n(i),s=(t(29),t(38)),o=t(2),u=t.n(o),l=t(3),h=t(9),d=t(22),b=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("kamatama",1,{upgrade:function(){var e=Object(l.a)(u.a.mark((function e(n,t,r){var a,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Upgrading database to version ".concat(r,".")),a=n.createObjectStore("allKanji",{keyPath:"literal"}),i=n.createObjectStore("allPhrases",{keyPath:"sequenceNumber"}),(c=n.createObjectStore("queryStore",{keyPath:"sequenceNumber"})).createIndex("exact","exact",{multiEntry:!0}),c.createIndex("partial","partial",{multiEntry:!0}),e.next=8,Promise.all([a,i,c].map((function(e){return e.transaction.done}))).catch(console.error);case 8:console.log("Database upgraded to version ".concat(r));case 9:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=t(6),f=t(17),p=t(18),g=t.n(p),m=t(11),j=t(7),w=t(23),x=t(19);function y(e){return k.apply(this,arguments)}function k(){return(k=Object(w.a)(u.a.mark((function e(n){var t,r,a,i,c,s,o,l,h,d,b,v,f,p,g,m,w,y,k,O;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TextDecoder("utf-8"),e.next=3,Object(j.a)(fetch(n));case 3:return a=e.sent,e.next=6,Object(j.a)(a.blob());case 6:return i=e.sent,e.next=9,Object(j.a)(i.arrayBuffer());case 9:return c=e.sent,s=Object(x.a)(new Uint8Array(c)),o=new Blob([s]),l=URL.createObjectURL(o),e.next=15,Object(j.a)(fetch(l));case 15:if(e.t1=t=e.sent.body,e.t0=null===e.t1,e.t0){e.next=19;break}e.t0=void 0===t;case 19:if(!e.t0){e.next=23;break}e.t2=void 0,e.next=24;break;case 23:e.t2=t.getReader();case 24:if(h=e.t2){e.next=27;break}return e.abrupt("return");case 27:d=0,b=!1,v="";case 30:return e.next=33,Object(j.a)(h.read());case 33:if(f=e.sent,p=f.value,!f.done){e.next=38;break}return e.abrupt("break",88);case 38:g=p?r.decode(p):"",m=-1,w=[],y=0;case 42:if(!(y<g.length)){e.next=83;break}if(!b){e.next=47;break}'"'===g[y]?b=!1:"\\"===g[y]&&(y+=1),e.next=80;break;case 47:if('"'!==g[y]){e.next=51;break}b=!0,e.next=80;break;case 51:if("{"!==g[y]){e.next=56;break}0===d&&(m=y),d+=1,e.next=80;break;case 56:if("}"!==g[y]){e.next=80;break}if(0!==(d-=1)){e.next=80;break}if(!(m<0)){e.next=71;break}k=v+g.substring(0,y+1),e.prev=61,w.push(JSON.parse(v+g.substring(0,y+1))),e.next=69;break;case 65:return e.prev=65,e.t3=e.catch(61),console.log(k),e.abrupt("return");case 69:e.next=80;break;case 71:O=g.substring(m,y+1),e.prev=72,w.push(JSON.parse(g.substring(m,y+1))),e.next=80;break;case 76:return e.prev=76,e.t4=e.catch(72),console.log(O),e.abrupt("return");case 80:y++,e.next=42;break;case 83:return e.next=85,w;case 85:d>0&&(m<0?v+=g:v=g.substring(m)),e.next=30;break;case 88:case"end":return e.stop()}}),e,null,[[61,65],[72,76]])})))).apply(this,arguments)}var O=13108,N=190269;function E(e,n,t,r,a){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(u.a.mark((function e(n,t,r,a,i){var c,s,o,l,h,d,b,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=0,s=!0,o=!1,e.prev=3,h=u.a.mark((function e(){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v,s=t.transaction(r,"readwrite"),e.next=4,Promise.all(n.map((function(e){return a(s,e)})));case 4:return e.next=6,s.done;case 6:c+=n.length,void 0!==i&&i(c);case 8:case"end":return e.stop()}}),e)})),d=Object(f.a)(y(g.a.join("/kamatama",n)));case 6:return e.next=8,d.next();case 8:return b=e.sent,s=b.done,e.next=12,b.value;case 12:if(v=e.sent,s){e.next=18;break}return e.delegateYield(h(),"t0",15);case 15:s=!0,e.next=6;break;case 18:e.next=24;break;case 20:e.prev=20,e.t1=e.catch(3),o=!0,l=e.t1;case 24:if(e.prev=24,e.prev=25,s||null==d.return){e.next=29;break}return e.next=29,d.return();case 29:if(e.prev=29,!o){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}var S=function(){var e=Object(l.a)(u.a.mark((function e(n,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E("dict/kanjidic2.json.gz",n,["allKanji"],(function(e,n){return e.objectStore("allKanji").put(n).then()}),t);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(u.a.mark((function e(n,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E("dict/JMdict.json.gz",n,["allPhrases","queryStore"],function(){var e=Object(l.a)(u.a.mark((function e(n,t){var r,a,i,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r={sequenceNumber:t.sequenceNumber,exact:[],kana:[],partial:[]},a=0,i=[].concat(Object(v.a)(t.kanji),Object(v.a)(t.reading));a<i.length;a++)for(c=i[a].value,s=Object(m.toHiragana)(c),r.exact.push(s),o=1;o<s.length;o++)r.partial.push(s.substring(o));return e.abrupt("return",Promise.all([n.objectStore("allPhrases").put(t),n.objectStore("queryStore").put(r)]).then());case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(u.a.mark((function e(n,t){var r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=0,i=0,e.next=5,n.count("allKanji");case 5:if(e.t0=e.sent,e.t1=O,!(e.t0<e.t1)){e.next=11;break}r.push(S(n,(function(e){a=e,t&&t(a+i)}))),e.next=12;break;case 11:a=O;case 12:return e.next=14,n.count("allPhrases");case 14:if(e.t2=e.sent,e.t3=N,!(e.t2<e.t3)){e.next=20;break}r.push(q(n,(function(e){i=e,t&&t(a+i)}))),e.next=21;break;case 20:i=N;case 21:return e.next=23,Promise.all(r);case 23:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function C(){return(C=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function B(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var G=a.createElement("g",null,a.createElement("circle",{id:"White",cx:512,cy:512,r:507,fill:"#ffffff",stroke:"#cccccc",strokeWidth:10}),a.createElement("circle",{id:"Yolk",cx:512,cy:512,r:200,fill:"#ffb43b"}));function I(e,n){var t=e.title,r=e.titleId,i=B(e,["title","titleId"]);return a.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",ref:n,"aria-labelledby":r},i),t?a.createElement("title",{id:r},t):null,G)}var L=a.forwardRef(I),z=(t.p,t(32),function(){var e=Object(a.useState)(!0),n=Object(h.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(!1),s=Object(h.a)(c,2),o=s[0],d=s[1],v=Object(a.useState)(0),f=Object(h.a)(v,2),p=f[0],g=f[1],m="serviceWorker"in navigator&&"indexedDB"in window,j=Object(a.useState)(null),w=Object(h.a)(j,2),x=w[0],y=w[1];Object(a.useEffect)((function(){m?b().then(function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.count("allKanji");case 2:return t=e.sent,e.next=5,n.count("allPhrases");case 5:r=e.sent,(t<13108||r<190269)&&i(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()):i(!1)}),[m]),Object(a.useEffect)((function(){var e=function(e){e.preventDefault(),y(e)};return window.addEventListener("beforeinstallprompt",e),function(){window.removeEventListener("beforeinstallprompt",e)}}),[]);var k=Object(a.useCallback)((function(){t||!m||o||(d(!0),b().then((function(e){return R(e,(function(e){g(Math.floor(100*e/203377))}))})).then((function(){null!==x&&x.prompt(),i(!0)})))}),[x,t,m,o]);return Object(r.jsxs)("div",{className:["Landing",t&&"installed"].filter(Boolean).join(" "),children:[Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("h1",{children:"\u3053\u3093\u306b\u3061\u306f!"}),Object(r.jsx)("p",{children:"This is Kamatama Jisho, a Japanese-English phrase book powered by the web!"}),m?Object(r.jsx)("p",{children:"To install Kamatama Jisho, just press the big egg down below."}):Object(r.jsxs)("p",{children:["Uh oh! The device you are using is not capable of installing"," ",Object(r.jsx)("a",{href:"https://en.wikipedia.org/wiki/Progressive_web_application",children:"PWAs"}),". Perhaps try a different device, or a different browser!"]})]}),m&&Object(r.jsxs)("button",{className:"icon",children:[Object(r.jsxs)("div",{className:["progress",o&&"visible"].filter(Boolean).join(" "),children:[p,"%"]}),Object(r.jsx)(L,{onClick:k})]})]})}),A=t(20),W=t(21),Y=t(4),K=new(function(){function e(){Object(A.a)(this,e),this.query=void 0,this.loadingResults=void 0,this.request=void 0,this.results=void 0,this.dbPromise=void 0,this.entry=void 0,this.currentEntry=void 0,Object(Y.c)(this),this.query="",this.loadingResults=!1,this.results=[],this.request=0,this.entry=0,this.dbPromise=b()}return Object(W.a)(e,[{key:"setQuery",value:function(e){this.query=e instanceof Function?e(this.query):e,this.fetchResults(Object(m.toHiragana)(this.query,{passRomaji:!0}))}},{key:"setCurrentEntry",value:function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r,a,i,c=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==n){e.next=3;break}return Object(Y.d)((function(){c.currentEntry=void 0})),e.abrupt("return");case 3:return t=++this.entry,e.next=6,this.dbPromise;case 6:return r=e.sent,a=r.transaction("allPhrases"),e.next=10,a.store.get(n);case 10:i=e.sent,this.entry===t&&Object(Y.d)((function(){c.currentEntry=i}));case 12:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchResults",value:function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r,a,i,c,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=3;break}return Object(Y.d)((function(){s.results=[]})),e.abrupt("return");case 3:return t=++this.request,r=new Set,e.next=7,this.fetchExactSequenceNumbers(n,r);case 7:return e.next=9,this.fetchPartialSequenceNumbers(n,r);case 9:return e.next=11,this.dbPromise;case 11:return a=e.sent,i=a.transaction("allPhrases"),c=[],e.next=16,Promise.all(Array.from(r).map(function(){var e=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.store.get(n);case 2:t=e.sent,c.push(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 16:t===this.request&&Object(Y.d)((function(){s.results=c}));case 17:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchExactSequenceNumbers",value:function(){var e=Object(l.a)(u.a.mark((function e(n,t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbPromise;case 2:return r=e.sent,a=r.transaction("queryStore"),e.next=6,a.store.index("exact").getAll(n).then((function(e){e.forEach((function(e){var n=e.sequenceNumber;t.add(n)}))}));case 6:return e.next=8,a.done;case 8:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"fetchPartialSequenceNumbers",value:function(){var e=Object(l.a)(u.a.mark((function e(n,t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbPromise;case 2:return r=e.sent,a=r.transaction("queryStore"),e.next=6,Promise.all([a.store.index("exact").getAll(IDBKeyRange.bound(n,n+"\uffff"),30).then((function(e){e.forEach((function(e){var n=e.sequenceNumber;t.add(n)}))})),a.store.index("partial").getAll(IDBKeyRange.bound(n,n+"\uffff"),30).then((function(e){e.forEach((function(e){var n=e.sequenceNumber;t.add(n)}))}))]);case 6:return e.next=8,a.done;case 8:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()}]),e}()),U=t(5),D=(t(33),Object(s.a)((function(e){var n=e.sequenceNumber,t=e.reading,a=e.kanji,i=e.sense;return Object(r.jsxs)("li",{className:"ResultListItem",onClick:function(){K.setCurrentEntry(n)},children:[Object(r.jsx)("div",{className:"forms",children:[].concat(Object(v.a)(a),Object(v.a)(t)).sort((function(e,n){return e.priority.length-n.priority.length})).map((function(e){return e.value})).join("\u3001")}),Object(r.jsx)("div",{className:"meanings",children:i.flatMap((function(e){return e.glossary})).map((function(e){return e.value})).join(", ")})]})}))),J=Object(s.a)((function(){var e=K.results;return Object(r.jsx)("ul",{className:"ResultList",children:e.map((function(e){return Object(r.jsx)(D,Object(U.a)({},e),e.sequenceNumber)}))})})),M=t.p+"static/media/icon.b8f19d44.svg",T=(t(34),Object(s.a)((function(){var e=Object(a.useRef)(null);Object(a.useEffect)((function(){var n;null===(n=e.current)||void 0===n||n.focus()}),[]);var n=Object(a.useCallback)((function(e){K.setQuery(e.target.value)}),[]);return Object(r.jsxs)("div",{className:"SearchBar",children:[Object(r.jsx)("img",{className:"icon",src:M,alt:"icon"}),Object(r.jsx)("input",{ref:e,type:"text",value:K.query,onChange:n,placeholder:"Search here..."}),Object(r.jsx)("button",{className:"Radicals",children:"\u5b57"})]})})));t(35);var F=function(e){var n=Object(a.useRef)();return Object(a.useEffect)((function(){n.current=e}),[e]),n.current},H=(t(36),{"adj-f":"noun or verb acting prenominally","adj-i":"adjective (keiyoushi)","adj-ix":"adjective (keiyoushi) - yoi/ii class","adj-kari":"'kari' adjective (archaic)","adj-ku":"'ku' adjective (archaic)","adj-na":"adjectival nouns or quasi-adjectives (keiyodoshi)","adj-nari":"archaic/formal form of na-adjective","adj-no":"nouns which may take the genitive case particle 'no'","adj-pn":"pre-noun adjectival (rentaishi)","adj-shiku":"'shiku' adjective (archaic)","adj-t":"'taru' adjective",adv:"adverb (fukushi)","adv-to":"adverb taking the 'to' particle",aux:"auxiliary","aux-adj":"auxiliary adjective","aux-v":"auxiliary verb",conj:"conjunction",cop:"copula",ctr:"counter",exp:"expressions (phrases, clauses, etc.)",int:"interjection (kandoushi)",n:"noun (common) (futsuumeishi)","n-adv":"adverbial noun (fukushitekimeishi)","n-pr":"proper noun","n-pref":"noun, used as a prefix","n-suf":"noun, used as a suffix","n-t":"noun (temporal) (jisoumeishi)",num:"numeric",pn:"pronoun",pref:"prefix",prt:"particle",suf:"suffix",unc:"unclassified","v-unspec":"verb unspecified",v1:"Ichidan verb","v1-s":"Ichidan verb - kureru special class","v2a-s":"Nidan verb with 'u' ending (archaic)","v2b-k":"Nidan verb (upper class) with 'bu' ending (archaic)","v2b-s":"Nidan verb (lower class) with 'bu' ending (archaic)","v2d-k":"Nidan verb (upper class) with 'dzu' ending (archaic)","v2d-s":"Nidan verb (lower class) with 'dzu' ending (archaic)","v2g-k":"Nidan verb (upper class) with 'gu' ending (archaic)","v2g-s":"Nidan verb (lower class) with 'gu' ending (archaic)","v2h-k":"Nidan verb (upper class) with 'hu/fu' ending (archaic)","v2h-s":"Nidan verb (lower class) with 'hu/fu' ending (archaic)","v2k-k":"Nidan verb (upper class) with 'ku' ending (archaic)","v2k-s":"Nidan verb (lower class) with 'ku' ending (archaic)","v2m-k":"Nidan verb (upper class) with 'mu' ending (archaic)","v2m-s":"Nidan verb (lower class) with 'mu' ending (archaic)","v2n-s":"Nidan verb (lower class) with 'nu' ending (archaic)","v2r-k":"Nidan verb (upper class) with 'ru' ending (archaic)","v2r-s":"Nidan verb (lower class) with 'ru' ending (archaic)","v2s-s":"Nidan verb (lower class) with 'su' ending (archaic)","v2t-k":"Nidan verb (upper class) with 'tsu' ending (archaic)","v2t-s":"Nidan verb (lower class) with 'tsu' ending (archaic)","v2w-s":"Nidan verb (lower class) with 'u' ending and 'we' conjugation (archaic)","v2y-k":"Nidan verb (upper class) with 'yu' ending (archaic)","v2y-s":"Nidan verb (lower class) with 'yu' ending (archaic)","v2z-s":"Nidan verb (lower class) with 'zu' ending (archaic)",v4b:"Yodan verb with 'bu' ending (archaic)",v4g:"Yodan verb with 'gu' ending (archaic)",v4h:"Yodan verb with 'hu/fu' ending (archaic)",v4k:"Yodan verb with 'ku' ending (archaic)",v4m:"Yodan verb with 'mu' ending (archaic)",v4n:"Yodan verb with 'nu' ending (archaic)",v4r:"Yodan verb with 'ru' ending (archaic)",v4s:"Yodan verb with 'su' ending (archaic)",v4t:"Yodan verb with 'tsu' ending (archaic)",v5aru:"Godan verb - -aru special class",v5b:"Godan verb with 'bu' ending",v5g:"Godan verb with 'gu' ending",v5k:"Godan verb with 'ku' ending","v5k-s":"Godan verb - Iku/Yuku special class",v5m:"Godan verb with 'mu' ending",v5n:"Godan verb with 'nu' ending",v5r:"Godan verb with 'ru' ending","v5r-i":"Godan verb with 'ru' ending (irregular verb)",v5s:"Godan verb with 'su' ending",v5t:"Godan verb with 'tsu' ending",v5u:"Godan verb with 'u' ending","v5u-s":"Godan verb with 'u' ending (special class)",v5uru:"Godan verb - Uru old class verb (old form of Eru)",vi:"intransitive verb",vk:"Kuru verb - special class",vn:"irregular nu verb",vr:"irregular ru verb, plain form ends with -ri",vs:"noun or participle which takes the aux. verb suru","vs-c":"su verb - precursor to the modern suru","vs-i":"suru verb - included","vs-s":"suru verb - special class",vt:"transitive verb",vz:"Ichidan verb - zuru verb (alternative form of -jiru verbs)"}),Q={agric:"agriculture",anat:"anatomy",archeol:"archeology",archit:"architecture, building",art:"art, aesthetics",astron:"astronomy",audvid:"audio-visual",aviat:"aviation",baseb:"baseball",biochem:"biochemistry",biol:"biology",bot:"botany",Buddh:"Buddhism",bus:"business",chem:"chemistry",Christn:"Christianity",comp:"computing",cryst:"crystallography",ecol:"ecology",econ:"economics",elec:"electricity, elec. eng.",electr:"electronics",embryo:"embryology",engr:"engineering",ent:"entomology",finc:"finance",fish:"fishing",food:"food, cooking",gardn:"gardening, horticulture",genet:"genetics",geogr:"geography",geol:"geology",geom:"geometry",go:"go (game)",golf:"golf",gramm:"grammar",grmyth:"Greek mythology",hanaf:"hanafuda",horse:"horse-racing",law:"law",ling:"linguistics",logic:"logic",MA:"martial arts",mahj:"mahjong",math:"mathematics",mech:"mechanical engineering",med:"medicine",met:"climate, weather",mil:"military",music:"music",ornith:"ornithology",paleo:"paleontology",pathol:"pathology",pharm:"pharmacy",phil:"philosophy",photo:"photography",physics:"physics",physiol:"physiology",print:"printing",psych:"psychology, psychiatry",Shinto:"Shinto",shogi:"shogi",sports:"sports",stat:"statistics",sumo:"sumo",telec:"telecommunications",tradem:"trademark",vidg:"video game",zool:"zoology"},X={abbr:"abbreviation",arch:"archaism",char:"character",chn:"children's language",col:"colloquialism",company:"company name",creat:"creature",dated:"dated term",dei:"deity",derog:"derogatory",ev:"event",fam:"familiar language",fem:"female term or language",fict:"fiction",given:"given name or forename, gender not specified",hist:"historical term",hon:"honorific or respectful (sonkeigo) language",hum:"humble (kenjougo) language",id:"idiomatic expression",joc:"jocular, humorous term",leg:"legend",litf:"literary or formal term","m-sl":"manga slang",male:"male term or language",myth:"mythology","net-sl":"Internet slang",obj:"object",obs:"obsolete term",obsc:"obscure term","on-mim":"onomatopoeic or mimetic word",organization:"organization name",oth:"other",person:"full name of a particular person",place:"place name",poet:"poetical term",pol:"polite (teineigo) language",product:"product name",proverb:"proverb",quote:"quotation",rare:"rare",relig:"religion",sens:"sensitive",serv:"service",sl:"slang",station:"railway station",surname:"family or surname",uk:"word usually written using kana alone",unclass:"unclassified name",vulg:"vulgar expression or word",work:"work of art, literature, music, etc. name",X:"rude or X-rated term (not displayed in educational software)",yoji:"yojijukugo"},_=function(e){var n=e.kanji,t=e.reading,a=e.partOfSpeech,i=e.reference,c=e.field,s=e.misc,o=e.glossary;return Object(r.jsxs)("li",{className:"Meaning",children:[n.length+t.length>0&&Object(r.jsxs)("span",{className:"info restriction",children:["Meaning restricted to ",[].concat(Object(v.a)(n),Object(v.a)(t)).join(", ")]}),a.length>0&&Object(r.jsx)("span",{className:"info partOfSpeech",children:a.map((function(e){return H[e]})).join(", ")}),i.length>0&&Object(r.jsxs)("span",{className:"info seeAlso",children:["See also: ",i.join(", ")]}),c.length>0&&Object(r.jsxs)("span",{className:"info field",children:["Related to: ",c.map((function(e){return Q[e]})).join(", ")]}),s.length>0&&Object(r.jsx)("span",{className:"info misc",children:s.map((function(e){return X[e]})).join(", ")}),o.length>0&&Object(r.jsx)("div",{className:"glossary",children:o.map((function(e){var n=e.value;return Object(r.jsx)("div",{className:"item",children:n},n)}))})]})},$=function(e){var n=e.kanji,t=e.reading,a=e.sense;return Object(r.jsxs)("div",{className:"PhraseData",children:[Object(r.jsx)("ul",{className:"kanjis",children:n.map((function(e){var n=e.value;return Object(r.jsx)("li",{children:n},n)}))}),n.length>0&&t.length>0&&Object(r.jsx)("h2",{children:"Reading"}),Object(r.jsx)("ul",{className:"readings",children:t.map((function(e){var n=e.value;return Object(r.jsx)("li",{children:n},n)}))}),Object(r.jsx)("h2",{children:"Meaning"}),Object(r.jsx)("ul",{className:"meanings",children:a.map((function(e,n){return Object(r.jsx)(_,Object(U.a)({},e),n)}))})]})},V=Object(s.a)((function(){var e=K.currentEntry,n=F(e),t=e||n,i=Object(a.useCallback)((function(){K.setCurrentEntry(-1)}),[]);return Object(a.useEffect)((function(){var e=function(e){"Esc"!==e.key&&"Escape"!==e.key||i()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[i]),Object(r.jsxs)("div",{className:["Phrase",e&&"valid"].filter(Boolean).join(" "),children:[Object(r.jsx)("button",{onClick:i,children:"close"}),t&&Object(r.jsx)($,Object(U.a)({},t))]})})),Z=Object(s.a)((function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(z,{}),Object(r.jsx)(V,{}),Object(r.jsx)(T,{}),Object(r.jsx)(J,{results:K.results})]})})),ee=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),i(e),c(e)}))},ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),te=new Promise((function(e){window.addEventListener("load",(function n(){e(),window.removeEventListener("load",n)}))}));function re(e,n){navigator.serviceWorker.register(e,{scope:"/kamatama"}).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(r.jsx)(a.StrictMode,{children:Object(r.jsx)(Z,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kamatama",window.location.href).origin!==window.location.origin)return;te.then((function(){var n="".concat("/kamatama","/service-worker.js");ne?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):re(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):re(n,e)}))}}(),ee()}},[[37,1,2]]]);
//# sourceMappingURL=main.585e2a0f.chunk.js.map