(this["webpackJsonpkamatama-jisho"]=this["webpackJsonpkamatama-jisho"]||[]).push([[0],{31:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),i=n(20),c=n.n(i),s=n(53),o=(n(31),n(1)),u=n.n(o),l=n(3),d=n(5),h=n(23),f=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)("kamatama",1,{upgrade:function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var a,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Upgrading database to version ".concat(r,".")),(a=t.createObjectStore("allKanji",{keyPath:"literal"})).createIndex("radical","radical",{multiEntry:!0}),(i=t.createObjectStore("kanjiQueryStore",{keyPath:"literal"})).createIndex("reading","reading",{multiEntry:!0}),c=t.createObjectStore("allPhrases",{keyPath:"sequenceNumber"}),(s=t.createObjectStore("phraseQueryStore",{keyPath:"sequenceNumber"})).createIndex("exact","exact",{multiEntry:!0}),s.createIndex("partial","partial",{multiEntry:!0}),e.next=11,Promise.all([a,c,s,i].map((function(e){return e.transaction.done}))).catch(console.error);case 11:console.log("Database upgraded to version ".concat(r));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=n(10),b=n(7),p=n(21),j=n(22),m=n.n(j),g=n(13),y=n(18),x=n(24),w=n(25);function k(e){return O.apply(this,arguments)}function O(){return(O=Object(x.a)(u.a.mark((function e(t){var n,r,a,i,c,s,o,l,d,h,f,v,b,p,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TextDecoder("utf-8"),e.next=3,Object(y.a)(fetch(t));case 3:if(a=e.sent,i=null===(n=a.body)||void 0===n?void 0:n.pipeThrough(new w.a("gzip")).getReader()){e.next=7;break}return e.abrupt("return");case 7:c=0,s=!1,o="";case 10:return e.next=13,Object(y.a)(i.read());case 13:if(l=e.sent,d=l.value,!l.done){e.next=18;break}return e.abrupt("break",68);case 18:h=d?r.decode(d):"",f=-1,v=[],b=0;case 22:if(!(b<h.length)){e.next=63;break}if(!s){e.next=27;break}'"'===h[b]?s=!1:"\\"===h[b]&&(b+=1),e.next=60;break;case 27:if('"'!==h[b]){e.next=31;break}s=!0,e.next=60;break;case 31:if("{"!==h[b]){e.next=36;break}0===c&&(f=b),c+=1,e.next=60;break;case 36:if("}"!==h[b]){e.next=60;break}if(0!==(c-=1)){e.next=60;break}if(!(f<0)){e.next=51;break}p=o+h.substring(0,b+1),e.prev=41,v.push(JSON.parse(o+h.substring(0,b+1))),e.next=49;break;case 45:return e.prev=45,e.t0=e.catch(41),console.log(p),e.abrupt("return");case 49:e.next=60;break;case 51:j=h.substring(f,b+1),e.prev=52,v.push(JSON.parse(h.substring(f,b+1))),e.next=60;break;case 56:return e.prev=56,e.t1=e.catch(52),console.log(j),e.abrupt("return");case 60:b++,e.next=22;break;case 63:return e.next=65,v;case 65:c>0&&(f<0?o+=h:o=h.substring(f)),e.next=10;break;case 68:case"end":return e.stop()}}),e,null,[[41,45],[52,56]])})))).apply(this,arguments)}var N=13108,P=190269;function R(e,t,n,r){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(u.a.mark((function e(t,n,r,a){var i,c,s,o,l,d,h,f,b,j,g,y,x,w;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,c=[],s=[],o=function(e){return e},l=Object(v.a)(r);try{for(l.s();!(d=l.n()).done;)"string"===typeof(h=d.value)?(c.push(h),s.push(o)):(c.push(h.storeName),s.push(h.entryHandler))}catch(O){l.e(O)}finally{l.f()}f=!0,b=!1,e.prev=8,g=u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w,r=n.transaction(c,"readwrite"),e.next=4,Promise.all(t.map((function(e){return Promise.all(s.map((function(t){return t(e)})).filter((function(e){return void 0!==e})).map((function(e,t){return r.objectStore(c[t]).put(e)})))})));case 4:return e.next=6,r.done;case 6:i+=t.length,void 0!==a&&a(i);case 8:case"end":return e.stop()}}),e)})),y=Object(p.a)(k(m.a.join("/kamatama",t)));case 11:return e.next=13,y.next();case 13:return x=e.sent,f=x.done,e.next=17,x.value;case 17:if(w=e.sent,f){e.next=23;break}return e.delegateYield(g(),"t0",20);case 20:f=!0,e.next=11;break;case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(8),b=!0,j=e.t1;case 29:if(e.prev=29,e.prev=30,f||null==y.return){e.next=34;break}return e.next=34,y.return();case 34:if(e.prev=34,!b){e.next=37;break}throw j;case 37:return e.finish(34);case 38:return e.finish(29);case 39:case"end":return e.stop()}}),e,null,[[8,25,29,39],[30,,34,38]])})))).apply(this,arguments)}var E=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R("dict/kanjidic2.json.gz",t,["allKanji",{storeName:"kanjiQueryStore",entryHandler:function(e){var t=e.literal,n=e.readingMeaning,r=null===n||void 0===n?void 0:n.flatMap((function(e){return"value"in e?[e.value]:e.reading.map((function(e){var t=e.value;return Object(g.toHiragana)(t)}))}));if(r&&r.length>0)return{literal:t,reading:r}}}],n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R("dict/JMdict.json.gz",t,["allPhrases",{storeName:"phraseQueryStore",entryHandler:function(e){for(var t={sequenceNumber:e.sequenceNumber,exact:[],partial:[]},n=0,r=[].concat(Object(b.a)(e.kanji),Object(b.a)(e.reading));n<r.length;n++){var a=r[n].value,i=Object(g.toHiragana)(a);t.exact.push(i);for(var c=1;c<i.length;c++)t.partial.push(i.substring(c))}var s,o=Object(v.a)(e.sense.flatMap((function(e){return e.glossary.flatMap((function(e){return e.value}))})));try{for(o.s();!(s=o.n()).done;){var u=s.value.toLowerCase();t.exact.push(u);for(var l=0,d=Array.from(u.matchAll(/\b(?!^)[\w']+\b/g));l<d.length;l++){var h=d[l].index;void 0!==h&&t.partial.push(u.substring(h))}}}catch(f){o.e(f)}finally{o.f()}return t}}],n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a=0,i=0,e.next=5,t.count("allKanji");case 5:if(e.t0=e.sent,e.t1=N,!(e.t0<e.t1)){e.next=11;break}r.push(E(t,(function(e){a=e,n&&n(a+i)}))),e.next=12;break;case 11:a=N;case 12:return e.next=14,t.count("allPhrases");case 14:if(e.t2=e.sent,e.t3=P,!(e.t2<e.t3)){e.next=20;break}r.push(I(t,(function(e){i=e,n&&n(a+i)}))),e.next=21;break;case 20:i=P;case 21:return e.next=23,Promise.all(r);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var D=a.createElement("g",null,a.createElement("circle",{id:"White",cx:512,cy:512,r:507,fill:"#ffffff",stroke:"#cccccc",strokeWidth:10}),a.createElement("circle",{id:"Yolk",cx:512,cy:512,r:200,fill:"#ffb43b"}));function M(e,t){var n=e.title,r=e.titleId,i=B(e,["title","titleId"]);return a.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,D)}var C=a.forwardRef(M),K=(n.p,n(34),function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),s=Object(d.a)(c,2),o=s[0],h=s[1],v=Object(a.useState)(0),b=Object(d.a)(v,2),p=b[0],j=b[1],m="serviceWorker"in navigator&&"indexedDB"in window,g=Object(a.useState)(null),y=Object(d.a)(g,2),x=y[0],w=y[1];Object(a.useEffect)((function(){m?f().then(function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.count("allKanji");case 2:return n=e.sent,e.next=5,t.count("allPhrases");case 5:r=e.sent,(n<N||r<P)&&i(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):i(!1)}),[m]),Object(a.useEffect)((function(){var e=function(e){e.preventDefault(),w(e)};return window.addEventListener("beforeinstallprompt",e),function(){window.removeEventListener("beforeinstallprompt",e)}}),[]);var k=Object(a.useCallback)((function(){n||!m||o||(h(!0),f().then((function(e){return Q(e,(function(e){j(Math.floor(100*e/203377))}))})).then((function(){null!==x&&x.prompt(),i(!0)})))}),[x,n,m,o]);return Object(r.jsxs)("div",{className:["Landing",n&&"installed"].filter(Boolean).join(" "),children:[Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("h1",{children:"\u3053\u3093\u306b\u3061\u306f!"}),Object(r.jsx)("p",{children:"This is Kamatama Jisho, a Japanese-English phrase book powered by the web!"}),m?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:"To install Kamatama Jisho, just press the big egg down below. The dictionary download is about 10.5MB."}),Object(r.jsx)("p",{children:"The download will likely be quite fast, but the data must then be loaded into the database. This could take a long time. (3-4 mins)"}),Object(r.jsxs)("p",{children:["For more information, check out"," ",Object(r.jsx)("a",{href:"https://github.com/chrismilson/kamatama#installation",children:"this link"}),"."]})]}):Object(r.jsxs)("p",{children:["Uh oh! The device you are using is not capable of installing"," ",Object(r.jsx)("a",{href:"https://en.wikipedia.org/wiki/Progressive_web_application",children:"PWAs"}),". Perhaps try a different device, or a different browser!"]})]}),m&&Object(r.jsxs)("button",{className:"icon",children:[Object(r.jsxs)("div",{className:["progress",o&&"visible"].filter(Boolean).join(" "),children:[p,"%"]}),Object(r.jsx)(C,{onClick:k})]})]})}),A=n(6);var G=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e}),[e]),t.current},L=n(8),z=n(9),T=n(4),W=new(function(){function e(){Object(L.a)(this,e),this.query=void 0,this.dbPromise=void 0,this.phraseQueryIDPool=void 0,this.phraseResults=void 0,this.entryQueryIDPool=void 0,this.currentEntry=void 0,this.kanjiQueryIDPool=void 0,this.kanjiResults=void 0,this.searchByRadical=void 0,this.radicalRequestIDPool=void 0,this.radicalQuery=void 0,this.radicalMultiset=void 0,this.radicalResult=void 0,Object(T.c)(this),this.query="",this.dbPromise=f(),this.phraseQueryIDPool=0,this.phraseResults=[],this.entryQueryIDPool=0,this.kanjiQueryIDPool=0,this.kanjiResults=[],this.searchByRadical=!0,this.radicalRequestIDPool=0,this.radicalQuery=new Set,this.radicalMultiset={},this.radicalResult=[]}return Object(z.a)(e,[{key:"setQuery",value:function(e){this.query=e instanceof Function?e(this.query):e,this.fetchPhraseResults(Object(g.toHiragana)(this.query.toLowerCase(),{passRomaji:!0})),this.fetchKanjiResults(Object(g.toHiragana)(this.query,{passRomaji:!0}))}},{key:"setCurrentEntry",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,i,c=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==t){e.next=3;break}return Object(T.d)((function(){c.currentEntry=void 0})),e.abrupt("return");case 3:return n=++this.entryQueryIDPool,e.next=6,this.dbPromise;case 6:return r=e.sent,a=r.transaction("allPhrases"),e.next=10,a.store.get(t);case 10:return i=e.sent,e.next=13,a.done;case 13:this.entryQueryIDPool===n&&Object(T.d)((function(){c.currentEntry=i}));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleRadicalQuery",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.radicalQuery.has(t)?(n=-1,this.radicalQuery.delete(t)):(n=1,this.radicalQuery.add(t)),e.t0=v.a,e.next=4,this.fetchKanjiByRadical(t);case 4:e.t1=e.sent,r=(0,e.t0)(e.t1);try{for(r.s();!(a=r.n()).done;)(i=a.value)in this.radicalMultiset||(this.radicalMultiset[i]=0),this.radicalMultiset[i]+=n,0===this.radicalMultiset[i]&&delete this.radicalMultiset[i]}catch(c){r.e(c)}finally{r.f()}return e.next=9,this.updateRadicalResults();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRadicalResults",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r,a,i,c,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===(t=this.radicalQuery.size)&&(this.radicalResult=[]),n=Object.entries(this.radicalMultiset).filter((function(e){var n=Object(d.a)(e,2);n[0];return n[1]===t})).map((function(e){var t=Object(d.a)(e,2),n=t[0];t[1];return n})),r=++this.radicalRequestIDPool,e.next=6,this.dbPromise;case 6:return a=e.sent,i=a.transaction("allKanji"),e.next=10,Promise.all(n.map((function(e){return i.store.get(e)})));case 10:c=e.sent,r===this.radicalRequestIDPool&&Object(T.d)((function(){s.radicalResult=c}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchKanjiByRadical",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbPromise;case 2:return n=e.sent,r=n.transaction("allKanji"),e.abrupt("return",r.store.index("radical").getAllKeys(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchKanjiResults",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,i,c,s,o=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=3;break}return Object(T.d)((function(){o.kanjiResults=[]})),e.abrupt("return");case 3:return n=++this.kanjiQueryIDPool,r=new Set,e.next=7,this.dbPromise;case 7:return a=e.sent,i=a.transaction("kanjiQueryStore"),e.next=11,i.store.index("reading").getAll(t).then((function(e){return e.forEach((function(e){var t=e.literal;return r.add(t)}))}));case 11:return e.next=13,i.done;case 13:return c=[],s=a.transaction("allKanji"),e.next=17,Promise.all(Array.from(r).map(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.store.get(t);case 2:n=e.sent,c.push(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 17:n===this.kanjiQueryIDPool&&Object(T.d)((function(){o.kanjiResults=c}));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPhraseResults",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,i,c,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=3;break}return Object(T.d)((function(){s.phraseResults=[]})),e.abrupt("return");case 3:return n=++this.phraseQueryIDPool,r=new Set,e.next=7,this.fetchExactSequenceNumbers(t,r);case 7:return e.next=9,this.fetchPartialSequenceNumbers(t,r);case 9:return e.next=11,this.dbPromise;case 11:return a=e.sent,i=a.transaction("allPhrases"),c=[],e.next=16,Promise.all(Array.from(r).map(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.store.get(t);case 2:n=e.sent,c.push(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:n===this.phraseQueryIDPool&&Object(T.d)((function(){s.phraseResults=c}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchExactSequenceNumbers",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbPromise;case 2:return r=e.sent,a=r.transaction("phraseQueryStore"),e.next=6,a.store.index("exact").getAll(t).then((function(e){e.forEach((function(e){var t=e.sequenceNumber;n.add(t)}))}));case 6:return e.next=8,a.done;case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchPartialSequenceNumbers",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dbPromise;case 2:return r=e.sent,a=r.transaction("phraseQueryStore"),e.next=6,Promise.all([a.store.index("exact").getAll(IDBKeyRange.bound(t,t+"\uffff"),30).then((function(e){e.forEach((function(e){var t=e.sequenceNumber;n.add(t)}))})),a.store.index("partial").getAll(IDBKeyRange.bound(t,t+"\uffff"),30).then((function(e){e.forEach((function(e){var t=e.sequenceNumber;n.add(t)}))}))]);case 6:return e.next=8,a.done;case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),Y=(n(35),{"adj-f":"noun or verb acting prenominally","adj-i":"adjective (keiyoushi)","adj-ix":"adjective (keiyoushi) - yoi/ii class","adj-kari":"'kari' adjective (archaic)","adj-ku":"'ku' adjective (archaic)","adj-na":"adjectival nouns or quasi-adjectives (keiyodoshi)","adj-nari":"archaic/formal form of na-adjective","adj-no":"nouns which may take the genitive case particle 'no'","adj-pn":"pre-noun adjectival (rentaishi)","adj-shiku":"'shiku' adjective (archaic)","adj-t":"'taru' adjective",adv:"adverb (fukushi)","adv-to":"adverb taking the 'to' particle",aux:"auxiliary","aux-adj":"auxiliary adjective","aux-v":"auxiliary verb",conj:"conjunction",cop:"copula",ctr:"counter",exp:"expressions (phrases, clauses, etc.)",int:"interjection (kandoushi)",n:"noun (common) (futsuumeishi)","n-adv":"adverbial noun (fukushitekimeishi)","n-pr":"proper noun","n-pref":"noun, used as a prefix","n-suf":"noun, used as a suffix","n-t":"noun (temporal) (jisoumeishi)",num:"numeric",pn:"pronoun",pref:"prefix",prt:"particle",suf:"suffix",unc:"unclassified","v-unspec":"verb unspecified",v1:"Ichidan verb","v1-s":"Ichidan verb - kureru special class","v2a-s":"Nidan verb with 'u' ending (archaic)","v2b-k":"Nidan verb (upper class) with 'bu' ending (archaic)","v2b-s":"Nidan verb (lower class) with 'bu' ending (archaic)","v2d-k":"Nidan verb (upper class) with 'dzu' ending (archaic)","v2d-s":"Nidan verb (lower class) with 'dzu' ending (archaic)","v2g-k":"Nidan verb (upper class) with 'gu' ending (archaic)","v2g-s":"Nidan verb (lower class) with 'gu' ending (archaic)","v2h-k":"Nidan verb (upper class) with 'hu/fu' ending (archaic)","v2h-s":"Nidan verb (lower class) with 'hu/fu' ending (archaic)","v2k-k":"Nidan verb (upper class) with 'ku' ending (archaic)","v2k-s":"Nidan verb (lower class) with 'ku' ending (archaic)","v2m-k":"Nidan verb (upper class) with 'mu' ending (archaic)","v2m-s":"Nidan verb (lower class) with 'mu' ending (archaic)","v2n-s":"Nidan verb (lower class) with 'nu' ending (archaic)","v2r-k":"Nidan verb (upper class) with 'ru' ending (archaic)","v2r-s":"Nidan verb (lower class) with 'ru' ending (archaic)","v2s-s":"Nidan verb (lower class) with 'su' ending (archaic)","v2t-k":"Nidan verb (upper class) with 'tsu' ending (archaic)","v2t-s":"Nidan verb (lower class) with 'tsu' ending (archaic)","v2w-s":"Nidan verb (lower class) with 'u' ending and 'we' conjugation (archaic)","v2y-k":"Nidan verb (upper class) with 'yu' ending (archaic)","v2y-s":"Nidan verb (lower class) with 'yu' ending (archaic)","v2z-s":"Nidan verb (lower class) with 'zu' ending (archaic)",v4b:"Yodan verb with 'bu' ending (archaic)",v4g:"Yodan verb with 'gu' ending (archaic)",v4h:"Yodan verb with 'hu/fu' ending (archaic)",v4k:"Yodan verb with 'ku' ending (archaic)",v4m:"Yodan verb with 'mu' ending (archaic)",v4n:"Yodan verb with 'nu' ending (archaic)",v4r:"Yodan verb with 'ru' ending (archaic)",v4s:"Yodan verb with 'su' ending (archaic)",v4t:"Yodan verb with 'tsu' ending (archaic)",v5aru:"Godan verb - -aru special class",v5b:"Godan verb with 'bu' ending",v5g:"Godan verb with 'gu' ending",v5k:"Godan verb with 'ku' ending","v5k-s":"Godan verb - Iku/Yuku special class",v5m:"Godan verb with 'mu' ending",v5n:"Godan verb with 'nu' ending",v5r:"Godan verb with 'ru' ending","v5r-i":"Godan verb with 'ru' ending (irregular verb)",v5s:"Godan verb with 'su' ending",v5t:"Godan verb with 'tsu' ending",v5u:"Godan verb with 'u' ending","v5u-s":"Godan verb with 'u' ending (special class)",v5uru:"Godan verb - Uru old class verb (old form of Eru)",vi:"intransitive verb",vk:"Kuru verb - special class",vn:"irregular nu verb",vr:"irregular ru verb, plain form ends with -ri",vs:"noun or participle which takes the aux. verb suru","vs-c":"su verb - precursor to the modern suru","vs-i":"suru verb - included","vs-s":"suru verb - special class",vt:"transitive verb",vz:"Ichidan verb - zuru verb (alternative form of -jiru verbs)"}),J={agric:"agriculture",anat:"anatomy",archeol:"archeology",archit:"architecture, building",art:"art, aesthetics",astron:"astronomy",audvid:"audio-visual",aviat:"aviation",baseb:"baseball",biochem:"biochemistry",biol:"biology",bot:"botany",Buddh:"Buddhism",bus:"business",chem:"chemistry",Christn:"Christianity",comp:"computing",cryst:"crystallography",ecol:"ecology",econ:"economics",elec:"electricity, elec. eng.",electr:"electronics",embryo:"embryology",engr:"engineering",ent:"entomology",finc:"finance",fish:"fishing",food:"food, cooking",gardn:"gardening, horticulture",genet:"genetics",geogr:"geography",geol:"geology",geom:"geometry",go:"go (game)",golf:"golf",gramm:"grammar",grmyth:"Greek mythology",hanaf:"hanafuda",horse:"horse-racing",law:"law",ling:"linguistics",logic:"logic",MA:"martial arts",mahj:"mahjong",math:"mathematics",mech:"mechanical engineering",med:"medicine",met:"climate, weather",mil:"military",music:"music",ornith:"ornithology",paleo:"paleontology",pathol:"pathology",pharm:"pharmacy",phil:"philosophy",photo:"photography",physics:"physics",physiol:"physiology",print:"printing",psych:"psychology, psychiatry",Shinto:"Shinto",shogi:"shogi",sports:"sports",stat:"statistics",sumo:"sumo",telec:"telecommunications",tradem:"trademark",vidg:"video game",zool:"zoology"},F={abbr:"abbreviation",arch:"archaism",char:"character",chn:"children's language",col:"colloquialism",company:"company name",creat:"creature",dated:"dated term",dei:"deity",derog:"derogatory",ev:"event",fam:"familiar language",fem:"female term or language",fict:"fiction",given:"given name or forename, gender not specified",hist:"historical term",hon:"honorific or respectful (sonkeigo) language",hum:"humble (kenjougo) language",id:"idiomatic expression",joc:"jocular, humorous term",leg:"legend",litf:"literary or formal term","m-sl":"manga slang",male:"male term or language",myth:"mythology","net-sl":"Internet slang",obj:"object",obs:"obsolete term",obsc:"obscure term","on-mim":"onomatopoeic or mimetic word",organization:"organization name",oth:"other",person:"full name of a particular person",place:"place name",poet:"poetical term",pol:"polite (teineigo) language",product:"product name",proverb:"proverb",quote:"quotation",rare:"rare",relig:"religion",sens:"sensitive",serv:"service",sl:"slang",station:"railway station",surname:"family or surname",uk:"word usually written using kana alone",unclass:"unclassified name",vulg:"vulgar expression or word",work:"work of art, literature, music, etc. name",X:"rude or X-rated term (not displayed in educational software)",yoji:"yojijukugo"},H=function(e){var t=e.kanji,n=e.reading,a=e.partOfSpeech,i=e.reference,c=e.field,s=e.misc,o=e.glossary;return Object(r.jsxs)("li",{className:"Meaning",children:[t.length+n.length>0&&Object(r.jsxs)("span",{className:"info restriction",children:["Meaning restricted to ",[].concat(Object(b.a)(t),Object(b.a)(n)).join(", ")]}),a.length>0&&Object(r.jsx)("span",{className:"info partOfSpeech",children:a.map((function(e){return Y[e]})).join(", ")}),i.length>0&&Object(r.jsxs)("span",{className:"info seeAlso",children:["See also: ",i.join(", ")]}),c.length>0&&Object(r.jsxs)("span",{className:"info field",children:["Related to: ",c.map((function(e){return J[e]})).join(", ")]}),s.length>0&&Object(r.jsx)("span",{className:"info misc",children:s.map((function(e){return F[e]})).join(", ")}),o.length>0&&Object(r.jsx)("div",{className:"glossary",children:o.map((function(e){var t=e.value;return Object(r.jsx)("div",{className:"item",children:t},t)}))})]})},U=function(e){var t=e.kanji,n=e.reading,a=e.sense;return Object(r.jsxs)("div",{className:"PhraseData",children:[Object(r.jsx)("ul",{className:"kanjis",children:t.map((function(e){var t=e.value;return Object(r.jsx)("li",{children:t},t)}))}),t.length>0&&n.length>0&&Object(r.jsx)("h2",{children:"Reading"}),Object(r.jsx)("ul",{className:"readings",children:n.map((function(e){var t=e.value;return Object(r.jsx)("li",{children:t},t)}))}),Object(r.jsx)("h2",{children:"Meaning"}),Object(r.jsx)("ul",{className:"meanings",children:a.map((function(e,t){return Object(r.jsx)(H,Object(A.a)({},e),t)}))})]})},X=Object(s.a)((function(){var e=W.currentEntry,t=G(e),n=e||t,i=Object(a.useCallback)((function(){W.setCurrentEntry(-1)}),[]);return Object(a.useEffect)((function(){var e=function(e){"Esc"!==e.key&&"Escape"!==e.key||i()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[i]),Object(r.jsxs)("div",{className:["Phrase",e&&"valid"].filter(Boolean).join(" "),children:[Object(r.jsx)("button",{onClick:i,children:"close"}),n&&Object(r.jsx)(U,Object(A.a)({},n))]})})),_=(n(36),function(e){var t=e.literal,n=e.readingMeaning;return Object(r.jsxs)("div",{className:"RadicalResultListItem",onClick:function(){W.setQuery((function(e){return e+t})),Object(T.d)((function(){W.searchByRadical=!1}))},children:[Object(r.jsx)("div",{className:"literal",children:t}),Object(r.jsxs)("div",{className:"info",children:[Object(r.jsx)("div",{className:"reading",children:null===n||void 0===n?void 0:n.flatMap((function(e){return"value"in e?[e.value]:e.reading.map((function(e){return e.value}))})).join("\u3001")}),Object(r.jsx)("div",{className:"meaning",children:null===n||void 0===n?void 0:n.filter((function(e){return!("value"in e)})).flatMap((function(e){return e.meaning.map((function(e){return e.value}))})).join(", ")})]})]})}),$=Object(s.a)((function(){var e=W.radicalResult.slice(0,30);return Object(r.jsx)("div",{className:"RadicalResultList",children:e.map((function(e){return Object(r.jsx)(_,Object(A.a)({},e),e.literal)}))})})),V=["","\u4e00\uff5c\u4e36\u30ce\u4e59\u4e85","\u4e8c\u4ea0\u4eba\u2e85\u513f\u5165\u30cf\u4e37\u5182\u5196\u51ab\u51e0\u51f5\u5200\u2e89\u529b\u52f9\u5315\u531a\u5341\u535c\u5369\u5382\u53b6\u53c8\u30de\u4e5d\u30e6\u4e43","\u2ecc\u53e3\u56d7\u571f\u58eb\u5902\u5915\u5927\u5973\u5b50\u5b80\u5bf8\u5c0f\u2e8c\u5c22\u5c38\u5c6e\u5c71\u5ddd\u5ddb\u5de5\u5df2\u5dfe\u5e72\u5e7a\u5e7f\u5ef4\u5efe\u5f0b\u5f13\u30e8\u5f51\u5f61\u5f73\u2e96\u2e98\u2ea1\u2ea8\u2ebe\u2ecf\u2ed6\u4e5f\u4ea1\u53ca\u4e45","\u2eb9\u5fc3\u6208\u6238\u624b\u652f\u6535\u6587\u6597\u65a4\u65b9\u65e0\u65e5\u66f0\u6708\u6728\u6b20\u6b62\u6b79\u6bb3\u6bd4\u6bdb\u6c0f\u6c14\u6c34\u706b\u2ea3\u722a\u7236\u723b\u723f\u7247\u725b\u72ac\u2ead\u738b\u5143\u4e95\u52ff\u5c24\u4e94\u5c6f\u5df4\u6bcb","\u7384\u74e6\u7518\u751f\u7528\u7530\u758b\u7592\u7676\u767d\u76ae\u76bf\u76ee\u77db\u77e2\u77f3\u793a\u79b8\u79be\u7a74\u7acb\u2ec2\u4e16\u5de8\u518a\u6bcd\u2eb2\u7259","\u74dc\u7af9\u7c73\u7cf8\u7f36\u7f8a\u7fbd\u800c\u8012\u8033\u807f\u8089\u81ea\u81f3\u81fc\u820c\u821f\u826e\u8272\u864d\u866b\u8840\u884c\u8863\u897f","\u81e3\u898b\u89d2\u8a00\u8c37\u8c46\u8c55\u8c78\u8c9d\u8d64\u8d70\u8db3\u8eab\u8eca\u8f9b\u8fb0\u9149\u91c6\u91cc\u821b\u9ea6","\u91d1\u9577\u9580\u96b6\u96b9\u96e8\u9752\u975e\u5944\u5ca1\u514d\u6589","\u9762\u9769\u97ed\u97f3\u9801\u98a8\u98db\u98df\u9996\u9999\u54c1","\u99ac\u9aa8\u9ad8\u9adf\u9b25\u9b2f\u9b32\u9b3c\u7adc\u97cb","\u9b5a\u9ce5\u9e75\u9e7f\u9ebb\u4e80\u5547\u9ec4\u9ed2","\u9ecd\u9ef9\u7121\u6b6f","\u9efd\u9f0e\u9f13\u9f20","\u9f3b\u9f4a","","","\u9fa0"].map((function(e){return e.split("")})),Z=(n(37),Object(s.a)((function(e){var t=e.radical,n=W.radicalQuery.has(t);return Object(r.jsx)("button",{className:["RadicalButton",n&&"selected"].filter(Boolean).join(" "),onClick:function(){W.toggleRadicalQuery(t)},children:t})}))),ee=Object(s.a)((function(){return Object(r.jsx)("div",{className:"RadicalSearchBar",children:V.map((function(e,t){return[e,t]})).filter((function(e){var t=Object(d.a)(e,2),n=t[0];t[1];return n.length>0})).map((function(e){var t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)("div",{className:"radicalGroup",children:[Object(r.jsx)("div",{className:"strokeCount",children:a}),Object(r.jsx)("div",{className:"radicals",children:n.map((function(e){return Object(r.jsx)(Z,{radical:e},e)}))})]},a)}))})})),te=(n(38),Object(s.a)((function(){var e=W.searchByRadical;return Object(r.jsxs)("div",{className:["RadicalSearch",e&&"active"].filter(Boolean).join(" "),children:[Object(r.jsx)("button",{className:"close",onClick:function(){Object(T.d)((function(){W.searchByRadical=!1}))},children:"close"}),Object(r.jsx)($,{}),Object(r.jsx)(ee,{})]})}))),ne=(n(39),Object(s.a)((function(e){var t=e.sequenceNumber,n=e.reading,a=e.kanji,i=e.sense;return Object(r.jsxs)("li",{className:"PhraseResultListItem",onClick:function(){W.setCurrentEntry(t)},children:[Object(r.jsx)("div",{className:"forms",children:[].concat(Object(b.a)(a),Object(b.a)(n)).sort((function(e,t){return e.priority.length-t.priority.length})).map((function(e){return e.value})).join("\u3001")}),Object(r.jsx)("div",{className:"meanings",children:i.flatMap((function(e){return e.glossary})).map((function(e){return e.value})).join(", ")})]})}))),re=Object(s.a)((function(){var e=W.phraseResults;return Object(r.jsx)("ul",{className:"PhraseResultList",children:e.map((function(e){return Object(r.jsx)(ne,Object(A.a)({},e),e.sequenceNumber)}))})})),ae=n.p+"static/media/icon.b8f19d44.svg",ie=n.p+"static/media/radical-search-icon.7b3effc6.svg",ce=(n(40),Object(s.a)((function(){var e=Object(a.useRef)(null);Object(a.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.focus()}),[]);var t=Object(a.useCallback)((function(e){W.setQuery(e.target.value)}),[]);return Object(r.jsxs)("div",{className:"SearchBar",children:[Object(r.jsx)("img",{className:"icon",src:ae,alt:"icon"}),Object(r.jsx)("input",{ref:e,type:"text",value:W.query,onChange:t,placeholder:"Search here..."}),Object(r.jsx)("img",{className:"Radicals",src:ie,alt:"search by radical",onClick:function(){Object(T.d)((function(){W.searchByRadical=!0}))}})]})}))),se=(n(41),function(){return Object(r.jsxs)("div",{className:"PhraseSearch",children:[Object(r.jsx)(ce,{}),Object(r.jsx)(re,{})]})}),oe=Object(s.a)((function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(K,{}),Object(r.jsx)(X,{}),Object(r.jsx)(te,{}),Object(r.jsx)(se,{})]})})),ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),de=new Promise((function(e){window.addEventListener("load",(function t(){e(),window.removeEventListener("load",t)}))}));function he(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(42),n(43);c.a.render(Object(r.jsx)(a.StrictMode,{children:Object(r.jsx)(oe,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kamatama",window.location.href).origin!==window.location.origin)return;de.then((function(){var t="".concat("/kamatama","/service-worker.js");le?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):he(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):he(t,e)}))}}(),ue()}},[[52,1,2]]]);
//# sourceMappingURL=main.86d96868.chunk.js.map